/* ======== GLOBAL STIL & MODERN FONT ======== */
:root { --theme-color: #007BFF; }
body { font-family: 'Roboto', 'Arial', sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; color: #333; font-size: 10pt; }
.container { display: flex; flex-wrap: nowrap; padding: 1rem; gap: 1rem; max-width: 100%; margin: 0 auto; }

/* ======== SIDEBAR & ACCORDION INTERFACE ======== */
.sidebar { flex: 0 0 400px; max-height: 95vh; overflow-y: auto; background: #fff; padding: 1rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
details { border-bottom: 1px solid #e0e0e0; margin-bottom: 0.5rem; }
details:last-of-type { border-bottom: none; }
summary { cursor: pointer; padding: 0.75rem 0.5rem; list-style: none; display: flex; justify-content: space-between; align-items: center; transition: background-color 0.2s; }
summary::-webkit-details-marker { display: none; }
summary:hover { background-color: #f7f7f7; }
summary h2 { margin: 0; color: #1a2e44; font-size: 1.1rem; font-weight: 700; display: flex; align-items: center; gap: 0.75rem; }
summary h2 i { color: var(--theme-color); }
summary::after { content: '▼'; font-size: 0.8em; color: #888; transition: transform 0.3s ease; }
details[open] summary::after { transform: rotate(180deg); }
.accordion-content { padding: 0 0.5rem 1rem 0.5rem; }
.action-buttons { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; } /* FIXED: 3-column layout */
input, textarea, select, button { font-family: 'Roboto', 'Arial', sans-serif; }
input[type="text"], input[type="email"], input[type="tel"], textarea, select { width: 100%; margin-bottom: 0.75rem; padding: 0.6rem; border-radius: 4px; border: 1px solid #ccc; font-size: 0.9em; box-sizing: border-box; background-color: #fff; transition: border-color 0.2s; }
input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus, textarea:focus, select:focus { border-color: var(--theme-color); outline: none; box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.2); }
textarea { resize: vertical; min-height: 80px; }
.sidebar button { margin: 0.5rem 0; padding: 0.6rem 1rem; border: none; border-radius: 4px; cursor: pointer; background-color: var(--theme-color); color: white; font-size: 0.9em; transition: background-color 0.2s, transform 0.2s; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
.sidebar button:hover { opacity: 0.85; transform: translateY(-1px); }

/* ======== CV PREVIEW ======== */
.cv-container { flex: 1; background: white; padding: 2mm; border: 1px solid #ddd; box-shadow: 0 0 10px rgba(0,0,0,0.05); height: 297mm; width: 210mm; max-width: 210mm; overflow-y: auto; position: relative; box-sizing: border-box; }
.cv-header-bar, .cv-footer-bar { height: 2mm; width: 100%; position: absolute; left: 0; background: var(--theme-color); }
.cv-header-bar { top: 0; } .cv-footer-bar { bottom: 0; }
.cv-header { padding: 2mm; display: flex; gap: 2mm; align-items: center; margin-top: 2mm; }
.cv-header .profile-info { flex-grow: 1; }
.cv-header .profile-info h1 { margin: 0; font-size: 14pt; font-weight: 800; color: var(--theme-color); }
.cv-header .profile-info p { display: flex; flex-wrap: wrap; align-items: center; gap: 2mm; font-size: 10pt; color: #555; margin-top: 1mm; }
.cv-header .profile-info a { color: var(--theme-color); text-decoration: none; }
.cv-header img { width: 90px; height: 90px; border-radius: 50%; object-fit: cover; border: 3px solid var(--theme-color); }
#previewProfile { margin: 2mm 0; font-size: 9pt; color: #444; line-height: 1.5; white-space: pre-wrap; padding: 0 2mm; }
.cv-content { display: grid; grid-template-columns: 65% 35%; gap: 2mm; padding: 2mm; }
.cv-section h3 { margin: 0 0 1mm; padding-bottom: 1mm; color: var(--theme-color); font-size: 11pt; font-weight: 700; border-bottom: 1px solid var(--theme-color); }
.experience-item, .education-item { margin-bottom: 1.5rem; position: relative; }
.experience-item .item-header, .education-item .item-header { display: flex; align-items: center; gap: 1rem; }
.experience-item .company-logo { width: 60px; height: auto; object-fit: contain; flex-shrink: 0; }
.experience-item .text-content, .education-item .text-content { flex-grow: 1; }
.experience-item .title, .education-item .title { font-weight: bold; }
.experience-item .company, .education-item .school { margin-left: 0.5rem; }
.experience-item .years, .education-item .years { font-style: italic; color: #666; white-space: nowrap; }
.experience-item ul { margin: 0.5rem 0 0; padding-left: calc(60px + 1rem); list-style-type: disc; font-size: 9pt; }
#previewSkills { display: flex; flex-wrap: wrap; justify-content: space-between; gap: 0.5rem; }
#previewSkills span { flex: 1 1 48%; box-sizing: border-box; text-align: center; position: relative; display: inline-flex; justify-content: center; align-items: center; background-color: var(--theme-light, #e6f0ff); color: #1a2e44; padding: 0.4rem 0.75rem; border-radius: 20px; font-size: 9pt; }
#previewLanguages, #previewCerts { list-style: none; padding-left: 0; margin-top: 0.5rem; }
#previewLanguages li, #previewCerts li { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; font-size: 9pt; position: relative; }
#previewLanguages li::before, #previewCerts li::before { content: '•'; color: var(--theme-color); font-weight: bold; font-size: 1.2em; line-height: 1; margin-right: 0.5rem; }
#previewLanguages li span, #previewCerts li span { flex-grow: 1; }

/* ======== THEMES ======== */
.theme-blue { --theme-color: #007BFF; --theme-light: #e6f0ff; }
.theme-green { --theme-color: #28a745; --theme-light: #e1f3e5; }
.theme-orange { --theme-color: #fd7e14; --theme-light: #fce8d9; }
.theme-graphite { --theme-color: #4a4a4a; --theme-light: #f0f0f0; }
.theme-terminal { --theme-color: #39FF14; --theme-light: #d1ffd7; }
.theme-synthwave { --theme-color: #F000FF; --theme-light: #fae6ff; }
.theme-solarized { --theme-color: #b58900; --theme-light: #fdf6e3; }
.theme-glitch { --theme-color: #00FFFF; --theme-light: #e0ffff; }
.theme-terminal, .theme-synthwave, .theme-glitch { background: #0f0f0f; color: #eee; }
.theme-terminal .profile-info p, .theme-synthwave .profile-info p, .theme-glitch .profile-info p, .theme-terminal #previewProfile, .theme-synthwave #previewProfile, .theme-glitch #previewProfile { color: #eee; }
.theme-terminal #previewSkills span, .theme-synthwave #previewSkills span, .theme-glitch #previewSkills span { color: #0f0f0f; }

/* ======== UI/UX & ACTION BUTTONS ======== */
.item-actions { display: flex; gap: 4px; opacity: 0; transition: opacity 0.2s ease-in-out; flex-shrink: 0; }
.editable-item .item-header .item-actions, .education-item .item-actions { position: absolute; top: 50%; right: -5px; transform: translateY(-50%); }
.experience-item .item-actions { position: absolute; top: 5px; right: -5px; }
.editable-item:hover .item-actions, #previewCerts li:hover .item-actions, #previewLanguages li:hover .item-actions { opacity: 1; }
.edit-btn, .delete-btn { background-color: #555; color: white; border: none; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; cursor: pointer; padding: 0; margin: 0; font-size: 14px; line-height: 1; }
.delete-btn { background-color: #dc3545; } .edit-btn { background-color: #007BFF; }
.skill-delete-btn { opacity: 0; background-color: #dc3545; color: white; border: none; border-radius: 50%; width: 16px; height: 16px; font-size: 10px; margin-left: 5px; cursor: pointer; transition: opacity 0.2s; }
#previewSkills span:hover .skill-delete-btn { opacity: 1; }
.cv-container.clean-preview .item-actions, .cv-container.clean-preview .skill-delete-btn { display: none !important; }

/* FEEDBACK POP-UP */
.feedback { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); padding: 10px 20px; border-radius: 5px; color: white; z-index: 1001; font-size: 1em; box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
.feedback.success { background-color: #28a745; }
.feedback.error { background-color: #dc3545; }

@media print { body { padding-bottom: 0; } .sidebar { display: none; } .cv-container { box-shadow: none; border: none; } }